{
  "permissions": {
    "allow": [
      "Bash(find:*)",
      "Bash(npm init:*)",
      "Bash(npm install:*)",
      "Bash(frontend/package.json << 'EOF'\n{\n  \"name\": \"hackathon-todo-frontend\",\n  \"version\": \"0.1.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"dev\": \"next dev\",\n    \"build\": \"next build\",\n    \"start\": \"next start\",\n    \"lint\": \"next lint\"\n  },\n  \"dependencies\": {\n    \"next\": \"^15.1.0\",\n    \"react\": \"^19.0.0\",\n    \"react-dom\": \"^19.0.0\",\n    \"better-auth\": \"^1.1.0\",\n    \"next-themes\": \"^0.4.0\",\n    \"tailwindcss-animate\": \"^1.0.7\",\n    \"lucide-react\": \"^0.468.0\",\n    \"class-variance-authority\": \"^0.7.1\",\n    \"clsx\": \"^2.1.1\",\n    \"tailwind-merge\": \"^2.6.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^22\",\n    \"@types/react\": \"^19\",\n    \"@types/react-dom\": \"^19\",\n    \"typescript\": \"^5\",\n    \"tailwindcss\": \"^4.0.0\",\n    \"postcss\": \"^8.4.49\",\n    \"autoprefixer\": \"^10.4.20\",\n    \"eslint\": \"^9\",\n    \"eslint-config-next\": \"^15.1.0\"\n  }\n}\nEOF)",
      "mcp__playwright__browser_take_screenshot",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_close",
      "mcp__playwright__browser_console_messages",
      "mcp__playwright__browser_fill_form",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_wait_for",
      "mcp__playwright__browser_snapshot",
      "Bash(xargs kill:*)",
      "WebSearch",
      "Bash(ls:*)",
      "Bash(curl:*)",
      "Bash(python3 << 'EOF'\nimport jwt\nimport time\nfrom datetime import datetime, timedelta\n\n# Create a test JWT token for user_id=1\npayload = {\n    \"user_id\": 1,\n    \"sub\": \"1\",\n    \"exp\": int\\(\\(datetime.utcnow\\(\\) + timedelta\\(hours=24\\)\\).timestamp\\(\\)\\),\n    \"iat\": int\\(datetime.utcnow\\(\\).timestamp\\(\\)\\)\n}\n\n# Using the BETTER_AUTH_SECRET from .env\nsecret = \"6Tcf034qmm5ADPq8SAis8ZtD1Zsyq3fwYo86uUxE\"\n\ntoken = jwt.encode\\(payload, secret, algorithm=\"HS256\"\\)\nprint\\(token\\)\nEOF)",
      "Bash(TOKEN=\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJzdWIiOiIxIiwiZXhwIjoxNzcwNzE5MDEyLCJpYXQiOjE3NzA2MzI2MTJ9.VMy8luTsOyeFIgyNIXcByzrQiqnEgx0agNVfrmyZLu4\" __NEW_LINE_926b5a71a133928e__ echo \"=== Test 1: Add Task ===\" curl -s -X POST \"http://localhost:8000/agent/chat\" -H \"Authorization: Bearer $TOKEN\" -H \"Content-Type: application/json\" -d '{\"\"\"\"message\"\"\"\":\"\"\"\"Add grocery shopping to my tasks\"\"\"\"}' --no-buffer)",
      "Bash(source:*)",
      "Bash(timeout 5 python -m uvicorn:*)",
      "Bash(netstat:*)",
      "Bash(ss:*)",
      "Bash(lsof:*)",
      "Bash(/tmp/test_chatbot.sh:*)",
      "Bash(grep:*)",
      "Bash(python3:*)",
      "Bash(chmod:*)",
      "Bash(/tmp/test_single_request.sh:*)",
      "Bash(/tmp/test_mcp_tools.sh:*)",
      "Bash(pip install:*)",
      "Bash(python:*)",
      "Bash(/tmp/verify_database.sh:*)",
      "mcp__playwright__browser_evaluate",
      "mcp__playwright__browser_run_code",
      "Bash(pkill:*)",
      "Bash(npx tsc:*)",
      "Bash(killall:*)",
      "mcp__playwright__browser_type",
      "mcp__playwright__browser_network_requests",
      "Bash(__NEW_LINE_e212bdddb3316245__ source venv/bin/activate)",
      "Bash(__NEW_LINE_e212bdddb3316245__ python3 -c \"\nfrom app.db.session import get_session\nfrom app.models.task import Task\nimport asyncio\n\nasync def check_tasks\\(\\):\n    async for session in get_session\\(\\):\n        result = await session.execute\\(\n            ''SELECT id, title, priority, completed, user_id FROM task ORDER BY created_at DESC LIMIT 5''\n        \\)\n        tasks = result.fetchall\\(\\)\n        print\\(''=== Recent Tasks ===''\\)\n        for task in tasks:\n            print\\(f''ID: {task[0]}, Title: {task[1]}, Priority: {task[2]}, Completed: {task[3]}, User: {task[4]}''\\)\n        break\n\nasyncio.run\\(check_tasks\\(\\)\\)\n\")",
      "Bash(PGPASSWORD='npg_Wo4kT5FNPYwI' psql:*)",
      "Bash(npm run build:*)",
      "mcp__playwright__browser_press_key",
      "Bash(npm run dev)",
      "Bash(xargs:*)",
      "Bash(echo:*)",
      "Bash(/tmp/update_success.py << 'PYTHON_SCRIPT'\n# Read the file\nwith open\\(\"/mnt/e/Hackathon_2_To_do/hackathon_2_phase_3/backend/app/agents/todo_agent.py\", \"r\"\\) as f:\n    content = f.read\\(\\)\n\n# Define replacements\nreplacements = [\n    # Update add_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Added task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ¨ Added task: {title}!\"'''\n    \\),\n    # Update update_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Updated task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ Updated task: {task_reference}!\"'''\n    \\),\n    # Update delete_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Deleted task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"ðŸ—‘ Deleted task!\"'''\n    \\),\n    # Update complete_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Completed task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ… Completed task!\"'''\n    \\),\n]\n\n# Apply each replacement\nfor pattern, replacement in replacements:\n    content = re.sub\\(pattern, replacement, content, count=1\\)\n\n# Write back\nwith open\\(\"/mnt/e/Hackathon_2_To_do/hackathon_2_phase_3/backend/app/agents/todo_agent.py\", \"w\"\\) as f:\n    f.write\\(content\\)\n\nprint\\(\"Updated all success messages with emojis!\"\\)\nPYTHON_SCRIPT)",
      "Bash(__NEW_LINE_4392d2ac2e5be1c3__ python3 /tmp/update_success.py)",
      "Bash(/tmp/update_success.py << 'PYTHON_SCRIPT'\nimport re\n\n# Read the file\nwith open\\(\"/mnt/e/Hackathon_2_To_do/hackathon_2_phase_3/backend/app/agents/todo_agent.py\", \"r\"\\) as f:\n    content = f.read\\(\\)\n\n# Define replacements\nreplacements = [\n    # Update add_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Added task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ¨ Added task: {title}!\"'''\n    \\),\n    # Update update_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Updated task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ Updated task: {task_reference}!\"'''\n    \\),\n    # Update delete_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Deleted task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"ðŸ—‘ Deleted task!\"'''\n    \\),\n    # Update complete_task success\n    \\(\n        r'result\\\\s+=\\\\s+#\\\\s+Completed task.*successfully.*!\"',\n        '''return result\n    \"success\": True,\n    \"message\": f\"âœ… Completed task!\"'''\n    \\),\n]\n\n# Apply each replacement\nfor pattern, replacement in replacements:\n    content = re.sub\\(pattern, replacement, content, count=1\\)\n\n# Write back\nwith open\\(\"/mnt/e/Hackathon_2_To_do/hackathon_2_phase_3/backend/app/agents/todo_agent.py\", \"w\"\\) as f:\n    f.write\\(content\\)\n\nprint\\(\"Updated all success messages with emojis!\"\\)\nPYTHON_SCRIPT)",
      "Bash(__NEW_LINE_b42ca98e75889ffb__ python3 /tmp/update_success.py)",
      "Bash(git checkout:*)",
      "mcp__playwright__browser_resize",
      "Bash(kill:*)",
      "Bash(pgrep:*)",
      "Bash(fuser:*)"
    ]
  }
}
